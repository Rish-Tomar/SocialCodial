{let n=function(){let n=$("#new-post-form");n.submit((function(s){s.preventDefault(),$.ajax({type:"post",url:"/posts/create",data:n.serialize(),success:function(n){console.log(n.data.post.user);let s=e(n.data.post);$("#posts-list>ul").prepend(s),t($(" .delete-post-button",s))},error:function(n){console.log(n.responseText)}})}))},e=function(n){return $(`<li id="post-${n._id}"> \n                <p>\n    \n                    <small>\n                        <a class="delete-post-button" href="/posts/destroy/${n._id}">X</a>\n                    </small>\n                     ${n.content}\n                    <br>\n                    <small>\n                        ${n.user.name}\n                    </small>\n\n                    <small>\n                        <a class="toggle-like-button" data-likes="${n.likes.length}" href="/likes/toggle/?id=${n._id}&type=Post">\n                           ${n.likes.length} Likes\n            </a>\n                    </small>\n                </p>\n            \n                <div class="posts-comments">\n                    \n                        <form action="/comments/create" method="post">\n                            <input type="text" name="content" id="" placeholder="Comment here..." required>\n                            <input type="hidden" name="post" id="" value="${n._id}">\n                            <input type="submit" value="Add Comment">\n                        </form>\n                   \n            \n            \n                    <div class="post-comments-list">\n                        <ul class="post-comments-${n._id}">\n                        </ul>\n                    </div>\n            \n                </div>\n    \n          </li>`)},t=function(n){$(n).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(n).prop("href"),success:function(n){$(`#post-${n.data.post_id}`).remove()},error:function(n){console.log(n.responseText)}})}))};n()}